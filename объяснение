Определяются классы Manager, Programmer и Security, каждый из которых представляет собой разные аспекты работы в офисе.
В классе Manager определена функция ComeToWork(), которая уведомляет службу безопасности о своем прибытии и ожидает разблокировки двери.
В классе Security определены функции SectorClear(), NotifyFellows() и WorkHard(). WorkHard() является бесконечным циклом, в котором служба безопасности ожидает звонка от менеджера через условную переменную g_Bell. После получения сигнала от менеджера служба безопасности уведомляет коллег о готовности к работе и выводит сообщение о готовности к обслуживанию менеджера.
В классе Programmer определены функции WorkHard() и PlayStarcraft(). PlayStarcraft() является бесконечным циклом, в котором программист играет в Starcraft, пока служба безопасности не сообщит, что сектор не пустой, после чего он начинает работать.
В функции major() создаются экземпляры Manager, Programmer и Security, а затем запускаются три потока: менеджера, программиста и службы безопасности. После чего основной поток ждет завершения всех трех потоков с помощью методов join().
Основные действия:

Менеджер приходит на работу, вызывая функцию ComeToWork(), что в итоге уведомляет службу безопасности.
Служба безопасности, работая в бесконечном цикле в функции WorkHard(), ожидает сигнала от менеджера и после получения сигнала уведомляет коллег и менеджера о готовности к работе.
Программист играет в Starcraft до тех пор, пока служба безопасности не сообщит, что сектор не пустой, после чего начинает работать.
